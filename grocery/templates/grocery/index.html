{% load static %}
<!DOCTYPE html>
<html lang="en">
    <meta charset="UTF-8">
    <meta name="description"
          content="Simple grocery list app built with Django. Add, edit, delete and manage your grocery items easily.">
    <meta name="keywords"
          content="grocery, todo, django, crud, shopping list, python">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GROCERY</title>
    <head>
        <link rel="stylesheet" href="{% static 'grocery/css/global.css' %}">
        <link rel="stylesheet" href="{% static 'grocery/css/form.css' %}">
        <link rel="stylesheet" href="{% static 'grocery/css/items.css' %}">
        <link rel="stylesheet" href="{% static 'grocery/css/single-item.css' %}">
    </head>
    <body>
        <section class="section-center">
            <form method="post" class="Form">
                {% csrf_token %}
                <input type="text"
                       name="name"
                       placeholder="enter grocery"
                       value="{{ edit_item.name|default:'' }}"
                       required>
                {% if edit_item %}
                    <input type="hidden" name="item_id" value="{{ edit_item.id }}">
                    <button class="btn">Update</button>
                {% else %}
                    <button class="btn">Add</button>
                {% endif %}
            </form>
            <div class="items">
                {% for item in items %}
                    <div class="single-item">
                        <input type="checkbox"
                               {% if item.completed %}checked{% endif %}
                               onclick="location.href='/toggle/{{ item.id }}/'">
                        <p style="text-decoration:{% if item.completed %}line-through{% endif %}">{{ item.name }}</p>
                        <a href="{% url 'index' %}?edit={{ item.id }}">Edit</a>
                        <a href="{% url 'delete' item.id %}"
                           onclick="return confirm('Delete this item?')">Delete</a>
                    </div>
                {% endfor %}
            </div>
        </section>
    </body>
</html>
